{"ast":null,"code":"import _slicedToArray from\"/Users/macbookair/Desktop/memory-mernStack-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{AppBar,Avatar,Button,Toolbar,Typography}from\"@material-ui/core\";import{Link,useLocation}from\"react-router-dom\";import useStyle from\"./style\";import logo from\"../../images/logo.png\";import{useDispatch}from\"react-redux\";import{LOG_OUT}from\"../../redux_store/constants\";import{useHistory}from\"react-router-dom\";var Navbar=function Navbar(){var classes=useStyle();var dispatch=useDispatch();var _useState=useState(JSON.parse(localStorage.getItem('profile'))),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];console.log('user',user);var history=useHistory();var location=useLocation();useEffect(function(){var token=user===null||user===void 0?void 0:user.token;setUser(JSON.parse(localStorage.getItem('profile')));},[location]);var logout=function logout(){dispatch({type:LOG_OUT});history.push('/');setUser(null);};return/*#__PURE__*/React.createElement(AppBar,{className:classes.appBar,position:\"static\",color:\"inherit\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.brandContainer},/*#__PURE__*/React.createElement(Typography,{component:Link,to:\"/\",className:classes.heading,variant:\"h2\",align:\"center\"},\"MemoShare\"),/*#__PURE__*/React.createElement(\"img\",{className:classes.image,src:logo,alt:\"memories\",height:\"60\"})),/*#__PURE__*/React.createElement(Toolbar,{className:classes.toolbar},user?/*#__PURE__*/React.createElement(\"div\",{className:classes.profile},/*#__PURE__*/React.createElement(Avatar,{className:classes.purple,alt:user.result.name,src:user.result.imageUrl},user.result.name.charAt[0]),/*#__PURE__*/React.createElement(Typography,{className:classes.userName,variant:\"h6\"},user.result.name),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",className:classes.logout,color:\"secondary\",onClick:logout},\"Logout\")):/*#__PURE__*/React.createElement(Button,{variant:\"contained\",component:Link,to:\"/auth\",color:\"primary\"},\"Login\")));};export default Navbar;","map":{"version":3,"sources":["/Users/macbookair/Desktop/memory-mernStack-app/client/src/components/Navbar/Navbar.js"],"names":["React","useEffect","useState","AppBar","Avatar","Button","Toolbar","Typography","Link","useLocation","useStyle","logo","useDispatch","LOG_OUT","useHistory","Navbar","classes","dispatch","JSON","parse","localStorage","getItem","user","setUser","console","log","history","location","token","logout","type","push","appBar","brandContainer","heading","image","toolbar","profile","purple","result","name","imageUrl","charAt","userName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { AppBar, Avatar, Button, Toolbar, Typography } from \"@material-ui/core\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport useStyle from \"./style\";\nimport logo from \"../../images/logo.png\";\nimport { useDispatch } from \"react-redux\";\nimport { LOG_OUT } from \"../../redux_store/constants\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Navbar = () => {\n  const classes = useStyle();\n  const dispatch = useDispatch();\n  const [user,setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  console.log('user',user);\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(()=>{\n    const token = user?.token;\n\n    setUser(JSON.parse(localStorage.getItem('profile'))\n    )\n  },[location])\n\n  const logout =()=>{\n    dispatch({type:LOG_OUT})\n    history.push('/');\n    setUser(null);\n  }\n  return (\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n      <div className={classes.brandContainer}>\n        <Typography\n          component={Link}\n          to=\"/\"\n          className={classes.heading}\n          variant=\"h2\"\n          align=\"center\"\n        >\n          MemoShare\n        </Typography>\n        <img className={classes.image} src={logo} alt=\"memories\" height=\"60\" />\n      </div>\n      <Toolbar className={classes.toolbar}>\n        {user ? (\n          <div className={classes.profile}>\n            <Avatar\n              className={classes.purple}\n              alt={user.result.name}\n              src={user.result.imageUrl}\n            >\n              {user.result.name.charAt[0]}\n            </Avatar>\n            <Typography className={classes.userName} variant=\"h6\">\n              {user.result.name}\n            </Typography>\n            <Button\n              variant=\"contained\"\n              className={classes.logout}\n              color={\"secondary\"}\n              onClick={logout}\n            >\n              Logout\n            </Button>\n          </div>\n        ) : (\n          <Button\n            variant=\"contained\"\n            component={Link}\n            to=\"/auth\"\n            color={\"primary\"}\n          >\n            Login\n          </Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}